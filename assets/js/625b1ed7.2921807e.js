"use strict";(self.webpackChunkfluentax_developer=self.webpackChunkfluentax_developer||[]).push([[831],{8473:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>d});var r=t(4848),i=t(8453);const s={id:"authentication",title:"Authentication",sidebar_position:0},a="Authentication",o={id:"authentication",title:"Authentication",description:"Fluentax uses the industry standard OAuth 2.0 protocol for authentication.",source:"@site/docs/authentication.md",sourceDirName:".",slug:"/authentication",permalink:"/docs/authentication",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:0,frontMatter:{id:"authentication",title:"Authentication",sidebar_position:0},sidebar:"mySidebar",next:{title:"Rate limiting",permalink:"/docs/rate-limiting"}},c={},d=[{value:"1. Acquire an access token",id:"1-acquire-an-access-token",level:2},{value:"2. Access an API endpoint",id:"2-access-an-api-endpoint",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"authentication",children:"Authentication"})}),"\n",(0,r.jsxs)(n.p,{children:["Fluentax uses the industry standard ",(0,r.jsx)(n.a,{href:"https://oauth.net/",children:"OAuth 2.0"})," protocol for authentication.\r\nAll APIs require a valid access token to be present in the request authorization header."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Upon registration you will receive a dedicated service account with a ",(0,r.jsx)(n.code,{children:"client_id"})," and ",(0,r.jsx)(n.code,{children:"client_secret"})," pair. You must use these credentials to integrate your system with our APIs."]})}),"\n",(0,r.jsx)(n.h2,{id:"1-acquire-an-access-token",children:"1. Acquire an access token"}),"\n",(0,r.jsx)(n.p,{children:"You must acquire your access token from the Fluentax Single Sign-on (SSO) token endpoint:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Value"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"grant_type"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"client_credentials"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"client_id"}),(0,r.jsx)(n.td,{children:"your client id"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"client_secret"}),(0,r.jsx)(n.td,{children:"your client secret"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"scope"}),(0,r.jsxs)(n.td,{children:["the API scope e.g. ",(0,r.jsx)(n.code,{children:"fx_api"})]})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl https://sso.fluentax.com/auth/realms/fluentax/protocol/openid-connect/token \\\r\n  -H "Content-Type: application/x-www-form-urlencoded"\\\r\n  --data "grant_type=client_credentials"\\\r\n  --data "client_id=<your client_id>"\\\r\n  --data "client_secret=<your client_secret>"\\\r\n  --data "scope=<your API scope>"\n'})}),"\n",(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsxs)(n.p,{children:["You must supply the parameters in ",(0,r.jsx)(n.code,{children:"application/x-www-form-urlencoded"})," format.\r\nIf you are using a programming language that does not provide native support for this format, make sure to use the following parameters:"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["HTTP method: ",(0,r.jsx)(n.code,{children:"POST"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Content-Type"})," header: ",(0,r.jsx)(n.code,{children:"application/x-www-form-urlencoded"})]}),"\n",(0,r.jsxs)(n.li,{children:["Raw body: ",(0,r.jsx)(n.code,{children:"grant_type=client_credentials&client_id=<your client_id in URL-encoded format>&client_secret=<your client_secret in URL-encoded format>&scope=fx_api"})]}),"\n"]})]}),"\n",(0,r.jsx)(n.p,{children:"Response:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "access_token": "ey07NzjK3XUMx1wN2pig4gHA",\r\n  "expires_in": 300,\r\n  "refresh_expires_in": 0,\r\n  "token_type": "Bearer",\r\n  "not-before-policy": 0,\r\n  "scope": "fx_api"\r\n}\n'})}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"Each access token is valid only for 5 minutes. After the access token expires, you must request a new access token. Refresh tokens are not supported for service accounts."})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Tip"}),":  See the ",(0,r.jsx)(n.a,{href:"https://github.com/fluentax/api-samples/blob/main/dotnet/Fluentax.Apis.ExchangeRates.Samples/Program.cs",children:"api-samples"})," repository for a working sample application written in C# that demonstrates authentication."]})}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:["You must ensure that your credentials are never exposed. ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.em,{children:"DO NOT"})})," put your credentials in front-end code or anywhere else where they could be compromised. If you believe your credentials have been exposed, report it immediately and request a reset."]})}),"\n",(0,r.jsx)(n.h2,{id:"2-access-an-api-endpoint",children:"2. Access an API endpoint"}),"\n",(0,r.jsxs)(n.p,{children:["When accessing an API endpoint, you must include the ",(0,r.jsx)(n.code,{children:"access_token"})," from the token endpoint response in the request header."]}),"\n",(0,r.jsx)(n.p,{children:"Obtain AECB's bank details:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl https://fx-api.fluentax.com/v1/banks/AECB \\\r\n  -H "Authorization: Bearer <your access token>"\n'})}),"\n",(0,r.jsx)(n.p,{children:"Response:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\r\n  "id": "AECB",\r\n  "name": [\r\n    {\r\n      "languageCode": "en",\r\n      "name": "Central Bank of the UAE",\r\n      "abbreviatedName": "CBUAE"\r\n    },\r\n    {\r\n      "languageCode": "ar",\r\n      "name": "\u0645\u0635\u0631\u0641 \u0627\u0644\u0625\u0645\u0627\u0631\u0627\u062a \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0645\u062a\u062d\u062f\u0629 \u0627\u0644\u0645\u0631\u0643\u0632\u064a",\r\n      "abbreviatedName": "CBUAE"\r\n    }\r\n  ],\r\n  "dailyUpdateTime": "18:00:00",\r\n  "bankCurrency": "AED",\r\n  "countryCode": ["AE"],\r\n  "region": ["GCC"],\r\n  "timeZone": {\r\n    "windowsTimeZoneId": "Arabian Standard Time",\r\n    "ianaTimeZoneName": "Asia/Dubai"\r\n  },\r\n  "supportedFrequencies": ["Daily"],\r\n  "website": "https://www.centralbank.ae"\r\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var r=t(6540);const i={},s=r.createContext(i);function a(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);